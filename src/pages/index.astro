---
import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import ProjectCard from "../components/ProjectCard.astro";
import { get } from "./api/articles";
import type { Article } from "../utils/article.type";
import ArticleCard from "../components/ArticleCard.astro";

const { articles } = await (await get()).json();
const projects = (await getCollection("projects")).slice(0, 3);
---

<Layout title="Matteo Gassend">
  <div class="w-full flex flex-col md:flex-row h-full scroll-smooth">
    <div
      class="order-last sticky z-10 md:z-0 bottom-0 md:relative md:order-first md:w-1/3 md:h-full shadow-md pl-0 md:pl-2"
    >
      <nav class="md:hidden"></nav>
      <nav>
        <ul class="flex flex-col">
          <li class="menu__item"><a href="#about">About Me</a></li>
          <li class="menu__item"><a href="#projects">Projects</a></li>
          <li class="menu__item"><a href="#skills">Skills</a></li>
          <li class="menu__item"><a href="#experience">Experience</a></li>
          <li class="menu__item"><a href="#education">Education</a></li>
          <li class="menu__item">
            <a href="#certifications">Certifications</a>
          </li>
          <li class="menu__item"><a href="#contacts">Contacts</a></li>
        </ul>
      </nav>
    </div>
    <div class="w-full pl-2">
      <section id="about">
        <h1 class="text-3xl">Hello, my name is <b>Matteo</b></h1>
        <p>
          I am a fullstack developer with 3 years of experience in the industry. <br
          /> I have a passion for creating innovative and efficient solutions using
          the latest technologies. <br /> My expertise includes [list key skills
          and technologies you possess] and I have experience working on a variety
          of projects, from [examples of types of projects you've worked on].<br
          /> I am a quick learner and am always eager to take on new challenges.
          In addition to my technical skills, I am a strong team player and have
          excellent communication and problem-solving abilities.<br /> I am excited
          to continue my career in this field and make a positive impact on the projects
          and teams I work with.
        </p>
      </section>
      <section id="articles">
        <h2 class="text-center font-bold text-2xl">Look ma, I wrote this!</h2>
        {articles.map((e: Article) => <ArticleCard article={e} />)}
      </section>
      <section id="projects">
        <h2 class="text-center font-bold text-2xl">Look ma, I made this!</h2>
        <div
          class="w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
        >
          {projects.map((e) => <ProjectCard project={e} />)}
        </div>
        <div class="flex justify-center w-full">
          <a rel="prefetch" href="/projects">See More</a>
        </div>
      </section>
    </div>
  </div>
</Layout>

<style>
  .menu__item {
    @apply px-2 py-3 hover:-translate-y-2 transform transition-all hover:shadow-md;
  }
</style>
